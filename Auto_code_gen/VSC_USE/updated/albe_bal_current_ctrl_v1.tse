version = 4.2

//
// Saved by sw version: 2025.1 SP1
//

model "albe_bal_current_ctrl_v1" {
    configuration {
        hil_device = "HIL404"
        hil_configuration_id = 5
        simulation_method = exact
        simulation_time_step = auto
        simulation_discret_scaling = 1.0
        dsp_timer_periods = 100e-6, 50e-3
        ss_calc_method = "systematic elimination"
        enb_pole_shift = True
        enb_gds_oversampling = True
        show_modes = False
        device_ao_limit_enable = False
        reset_analog_outputs_on_sim_stop = True
        reset_analog_outputs_on_sim_stop_mode = Offset values
        reset_digital_outputs_on_sim_stop = True
        vhil_adio_loopback = False
        cpl_stb = False
        enb_dep_sw_detect = False
        code_section = "internal memory"
        data_section = "internal memory"
        sys_sp_rate_1 = 0.0001
        sys_sp_rate_2 = 0.05
        sys_real_type_precision = "default"
        user_real_type_precision = "default"
        sys_cpu_optimization = "high"
        user_cpu_optimization = "high"
        user_cpu_part_option = "default"
        matrix_based_reduction = True
        cpl_dynamics_analysis = False
        export_ss_to_pickle = False
        ground_scope_core = False
        dss_num_tol = 1e-15
        cce_platform = "launchxl-f28379d"
        cce_use_relative_names = False
        cce_type_mapping_real = "float"
        cce_type_mapping_uint = "unsigned int"
        cce_type_mapping_int = "int"
        cce_platform = "launchxl-f28379d"
        cce_use_relative_names = False
        cce_type_mapping_real = "float"
        cce_type_mapping_uint = "unsigned int"
        cce_type_mapping_int = "int"
        cce_term_var_location = "local"
        cce_directory = ""
        cce_custom_type_int = ""
        cce_custom_type_uint = ""
        cce_custom_type_real = ""
        tunable_params = "component defined"
        sp_compiler_type = "C compiler"
        sig_stim = "off"
        export_resource_list = ""
        export_dependency_list = ""
        excluded_resource_list = ""
        excluded_component_from_locking_list = ""
        export_out_file = ""
        export_lock_top_level = True
        export_encrypt_library = True
        export_encrypt_resources = True
        solver_type = "DAE"
        integration_method = "BDF"
        max_sim_step = 1e-4
        simulation_time = 1.0
        abs_tol = 1e-3
        rel_tol = 1e-3
        init_sim_step = 1e-6
        r_on_sw = 1e-3
        v_on_diode = 0.2
        data_sampling_rate = 0
        feedthrough_validation_error_level = warning
    }

    component Subsystem Root {
        component Subsystem albe_current_ctrl {
            layout = dynamic
            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)1" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "4"
                inten = "True"
                offset = "AO_offset"
                scaling = "I_scale"
            }
            [
                position = 6020, 7504
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)2" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "5"
                inten = "True"
                offset = "AO_offset"
                scaling = "I_scale"
            }
            [
                position = 6020, 7604
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)3" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "6"
                inten = "True"
                offset = "AO_offset"
                scaling = "I_scale"
            }
            [
                position = 6028, 7712
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)4" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                inten = "True"
                offset = "AO_offset"
                scaling = "V_scale"
            }
            [
                position = 6024, 7080
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)5" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "2"
                inten = "True"
                offset = "AO_offset"
                scaling = "V_scale"
            }
            [
                position = 6024, 7180
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)6" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "3"
                inten = "True"
                offset = "AO_offset"
                scaling = "V_scale"
            }
            [
                position = 6032, 7288
                size = 127, 63
            ]

            component "TI C2000 Toolbox/ePWM (Generic)" "ePWM (Generic)1" {
                hil_di_nr = "1-3-5-9"
                hil_di_nr_b = "2-4-6-10"
                nr_of_channels = "4"
            }
            [
                position = 10384, 7284
                size = 127, 79
            ]

            component "core/Sum" Sum1 {
                execution_rate = "Ts_Control"
            }
            [
                position = 10088, 7284
            ]

            component "core/Constant" Constant1 {
                execution_rate = "Ts_Control"
            }
            [
                position = 9980, 7304
            ]

            component "core/Gain" Gain1 {
                execution_rate = "Ts_Control"
                gain = "0.5"
            }
            [
                position = 10164, 7284
            ]

            component "core/Bus Split" "Bus Split1" {
                execution_rate = "Ts_Control"
                outputs = "3"
            }
            [
                position = 10236, 7284
            ]

            component "TI C2000 Toolbox/ePWM (Generic)" "ePWM (Generic)2" {
                dead_time = "0"
                frequency = "20e3"
                hil_di_nr = "13"
                hil_di_nr_b = "14"
                soc_en = "True"
                soc_timing = "Counter equals zero or period"
            }
            [
                position = 10380, 7488
                size = 127, 63
            ]

            component "core/Constant" Constant2 {
                execution_rate = "Ts_Control"
                value = "0.5"
            }
            [
                position = 10244, 7488
            ]

            component "TI C2000 Toolbox/ADC (Generic)" "ADC (Generic)7" {
                conv_trigger = "ePWM6"
                execution_rate = "Ts_Control"
                hil_ao_nr = "7"
                inten = "True"
                offset = "AO_offset"
                scaling = "I_scale"
            }
            [
                position = 6028, 7824
                size = 127, 63
            ]

            component Subsystem "Virtual 3ph3w" {
                layout = dynamic
                component "core/Gain" Gain1 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 7460, 7804
                ]

                component "core/Bus Join" "Bus Join17" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7616, 7800
                ]

                component "core/Gain" Gain2 {
                    gain = "2"
                }
                [
                    position = 7308, 8372
                ]

                component "core/Bus Join" "Bus Join18" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7456, 8428
                ]

                component "core/Advanced Low-Pass Filter" "Advanced Low-Pass Filter1" {
                    N = "1"
                    apb = "3"
                    execution_rate = "Ts_Control"
                    fc_combo = "External"
                    type_combo = "Basic"
                }
                [
                    position = 7088, 8384
                    size = 48, 48
                ]

                component "core/Advanced Low-Pass Filter" "Advanced Low-Pass Filter2" {
                    N = "1"
                    apb = "3"
                    execution_rate = "Ts_Control"
                    fc_combo = "External"
                    type_combo = "Basic"
                }
                [
                    position = 7220, 8388
                    size = 48, 48
                ]

                component "core/Termination" Termination6 {
                }
                [
                    position = 7800, 8324
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter1" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 7248, 7808
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter2" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 7348, 7808
                ]

                component "core/Gain" Gain5 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 7432, 7972
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter3" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 7220, 7976
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter4" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 7320, 7976
                ]

                component "core/Bus Join" "Bus Join21" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7620, 7980
                ]

                component "core/Gain" Gain6 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 8460, 7780
                ]

                component "core/Bus Join" "Bus Join22" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 8616, 7776
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter5" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 8248, 7784
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter6" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 8348, 7784
                ]

                component "core/Gain" Gain7 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 8440, 7960
                ]

                component "core/Bus Join" "Bus Join23" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 8596, 7956
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter7" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 8228, 7964
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter8" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 8328, 7964
                ]

                component "core/Gain" Gain8 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 9464, 7692
                ]

                component "core/Bus Join" "Bus Join24" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 9620, 7688
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter9" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 9252, 7696
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter10" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 9352, 7696
                ]

                component "core/Gain" Gain9 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 9472, 7836
                ]

                component "core/Bus Join" "Bus Join25" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 9628, 7832
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter11" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 9260, 7840
                ]

                component "core/Low-Pass Filter" "Low-Pass Filter12" {
                    execution_rate = "Ts_Control"
                    frequency = "50"
                }
                [
                    position = 9360, 7840
                ]

                port is_a {
                    position = left:1
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6784, 7804
                ]

                port is_a_albe {
                    position = right:1
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 7764, 7800
                ]

                port vs_a {
                    position = left:2
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6824, 8008
                ]

                port vs_a_albe {
                    position = right:2
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 7752, 7980
                ]

                port is_b {
                    position = left:3
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 8056, 7772
                ]

                port is_b_albe {
                    position = right:3
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8848, 7768
                ]

                port vs_b {
                    position = left:4
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 8064, 7992
                ]

                port vs_b_albe {
                    position = right:4
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8832, 7960
                ]

                port is_c {
                    position = left:5
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 9152, 7684
                ]

                port is_c_albe {
                    position = right:5
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 9764, 7684
                ]

                port vs_c {
                    position = left:6
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 9152, 7832
                ]

                port vs_c_albe {
                    position = right:6
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 9748, 7824
                ]

                port omega_rads_a {
                    position = left:7
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6824, 7900
                ]

                port omega_rads_b {
                    position = left:8
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7812, 8216
                ]

                port omega_rads_c {
                    position = left:9
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7700, 8312
                ]

                junction Junction277 sp
                [
                    position = 7160, 7800
                ]

                junction Junction278 sp
                [
                    position = 7104, 8008
                ]

                junction Junction279 sp
                [
                    position = 8144, 7772
                ]

                junction Junction280 sp
                [
                    position = 8196, 7960
                ]

                junction Junction281 sp
                [
                    position = 9220, 7692
                ]

                junction Junction283 sp
                [
                    position = 9228, 7836
                ]

                connect Gain1.out "Bus Join17.in1" as Connection953
                connect "Advanced Low-Pass Filter1.out" "Advanced Low-Pass Filter2.in" as Connection995
                connect "Advanced Low-Pass Filter2.out" Gain2.in as Connection996
                connect Gain2.out "Bus Join18.in1" as Connection1093
                [
                    breakpoints = 7372, 8436; 7408, 8436
                ]
                connect omega_rads_c Termination6.in as Connection1116
                connect "Bus Join17.out" is_a_albe as Connection1138
                [
                    breakpoints = 7672, 7800
                ]
                connect "Bus Join17.in" Junction277 as Connection1202
                [
                    breakpoints = 7568, 7744; 7568, 7748; 7568, 7740; 7160, 7740
                ]
                connect Junction277 is_a as Connection1203
                [
                    breakpoints = 7160, 7808; 7160, 7792; 7020, 7792
                ]
                connect "Low-Pass Filter1.in" Junction277 as Connection1204
                connect "Low-Pass Filter1.out" "Low-Pass Filter2.in" as Connection1205
                connect "Low-Pass Filter2.out" Gain1.in as Connection1206
                connect "Bus Join18.in" "Advanced Low-Pass Filter1.in" as Connection1207
                [
                    breakpoints = 7416, 8312; 7416, 8316; 7416, 8308; 7008, 8308; 7008, 8372; 7008, 8376
                ]
                connect "Advanced Low-Pass Filter1.fc_input" "Advanced Low-Pass Filter2.fc_input" as Connection1208
                [
                    breakpoints = 6948, 8392; 6948, 8488; 7128, 8488
                ]
                connect "Low-Pass Filter3.out" "Low-Pass Filter4.in" as Connection1209
                connect "Low-Pass Filter4.out" Gain5.in as Connection1210
                connect "Bus Join21.out" vs_a_albe as Connection1211
                connect "Bus Join21.in1" Gain5.out as Connection1212
                [
                    breakpoints = 7580, 7976; 7464, 7976
                ]
                connect vs_a Junction278 as Connection1214
                connect Junction278 "Low-Pass Filter3.in" as Connection1215
                connect "Bus Join21.in" Junction278 as Connection1216
                [
                    breakpoints = 7580, 7896; 7464, 7896
                ]
                connect Gain6.out "Bus Join22.in1" as Connection1217
                connect "Low-Pass Filter5.out" "Low-Pass Filter6.in" as Connection1218
                connect "Low-Pass Filter6.out" Gain6.in as Connection1219
                connect is_b Junction279 as Connection1221
                connect Junction279 "Low-Pass Filter5.in" as Connection1222
                [
                    breakpoints = 8224, 7784
                ]
                connect "Bus Join22.in" Junction279 as Connection1223
                [
                    breakpoints = 8492, 7672; 8144, 7672
                ]
                connect Gain7.out "Bus Join23.in1" as Connection1225
                connect "Low-Pass Filter7.out" "Low-Pass Filter8.in" as Connection1226
                connect "Low-Pass Filter8.out" Gain7.in as Connection1227
                connect vs_b Junction280 as Connection1229
                connect Junction280 "Low-Pass Filter7.in" as Connection1230
                connect "Bus Join23.in" Junction280 as Connection1231
                [
                    breakpoints = 8472, 7892; 8196, 7892
                ]
                connect vs_b_albe "Bus Join23.out" as Connection1232
                connect Gain8.out "Bus Join24.in1" as Connection1233
                connect "Low-Pass Filter9.out" "Low-Pass Filter10.in" as Connection1234
                connect "Low-Pass Filter10.out" Gain8.in as Connection1235
                connect Junction281 "Low-Pass Filter9.in" as Connection1236
                connect "Bus Join24.in" Junction281 as Connection1237
                [
                    breakpoints = 9496, 7624; 9220, 7624
                ]
                connect is_c Junction281 as Connection1238
                connect Gain9.out "Bus Join25.in1" as Connection1239
                connect "Low-Pass Filter11.out" "Low-Pass Filter12.in" as Connection1240
                connect "Low-Pass Filter12.out" Gain9.in as Connection1241
                connect "Bus Join25.in" Junction283 as Connection1244
                [
                    breakpoints = 9504, 7768; 9228, 7768
                ]
                connect vs_c Junction283 as Connection1246
                connect Junction283 "Low-Pass Filter11.in" as Connection1247
                [
                    breakpoints = 9228, 7836
                ]
                connect "Bus Join22.out" is_b_albe as Connection1248
                [
                    breakpoints = 8804, 7768
                ]
                connect is_c_albe "Bus Join24.out" as Connection1249
                connect vs_c_albe "Bus Join25.out" as Connection1250
            }
            [
                position = 6692, 7412
                size = 128, 296
            ]

            component "core/Gain" Gain2 {
                execution_rate = "Ts_Control"
                gain = "rad_2_hertz"
            }
            [
                position = 6496, 7508
            ]

            component "core/C function" "C function dq to abc2" {
                arb_defs = "/*Begin code section*/

/*End code section*/"
                execution_rate = "Ts_Control"
                init_fnc = "/*Begin code section*/

/*End code section*/"
                input_terminals = "real dq;real theta;"
                input_terminals_dimensions = "2;1"
                input_terminals_feedthrough = "True;True"
                input_terminals_show_labels = "True;True"
                output_fnc = "/*Begin code section*/
a= cos(theta)*dq[0] - sin(theta)*dq[1];
b= cos(theta -2.0/3.0*M_PI)*dq[0]  - sin(theta-2.0/3.0*M_PI)*dq[1];
c= cos(theta +2.0/3.0*M_PI)*dq[0] - sin(theta+2.0/3.0*M_PI)*dq[1];
/*End code section*/"
                output_terminals = "real a;real b;real c;"
                output_terminals_dimensions = "1;1;1"
                output_terminals_feedthrough = "True;True;True"
                output_terminals_show_labels = "True;True;True"
                update_fnc = "/*Begin code section*/

/*End code section*/"
            }
            [
                position = 8304, 7320
                size = 176, 152
            ]

            component "core/Product" Product1 {
                execution_rate = "Ts_Control"
            }
            [
                position = 8616, 7236
            ]

            component Subsystem current_ctrl {
                layout = dynamic
                component "core/C function" "C function abc to dq" {
                    arb_defs = "/*Begin code section*/

/*End code section*/"
                    execution_rate = "Ts_Control"
                    input_terminals = "real abc;real theta;"
                    input_terminals_dimensions = "3;1"
                    input_terminals_feedthrough = "True;True"
                    input_terminals_show_labels = "True;True"
                    output_fnc = "/*Begin code section*/
d= 2.0/3.0*(cos(theta)*abc[0] + cos(theta - 2.0/3.0*M_PI)*abc[1]  + cos(theta + 2.0/3.0*M_PI)*abc[2] );
q = 2.0/3.0*(-sin(theta)*abc[0] - sin(theta - 2.0/3.0*M_PI)*abc[1]  - sin(theta + 2.0/3.0*M_PI)*abc[2] );
/*End code section*/"
                    output_terminals = "real d;real q;"
                    output_terminals_dimensions = "1;1"
                    output_terminals_feedthrough = "True;True"
                    output_terminals_show_labels = "True;True"
                }
                [
                    position = 7136, 7852
                    size = 88, 104
                ]

                component "core/Constant" Constant1 {
                    execution_rate = "Ts_Control"
                    value = "0"
                }
                [
                    position = 7004, 7888
                ]

                component "core/C function" "C function abc to dq1" {
                    arb_defs = "/*Begin code section*/

/*End code section*/"
                    execution_rate = "Ts_Control"
                    input_terminals = "real abc;real theta;"
                    input_terminals_dimensions = "3;1"
                    input_terminals_feedthrough = "True;True"
                    input_terminals_show_labels = "True;True"
                    output_fnc = "/*Begin code section*/
d= 2.0/3.0*(cos(theta)*abc[0] + cos(theta - 2.0/3.0*M_PI)*abc[1]  + cos(theta + 2.0/3.0*M_PI)*abc[2] );
q = 2.0/3.0*(-sin(theta)*abc[0] - sin(theta - 2.0/3.0*M_PI)*abc[1]  - sin(theta + 2.0/3.0*M_PI)*abc[2] );
/*End code section*/"
                    output_terminals = "real d;real q;"
                    output_terminals_dimensions = "1;1"
                    output_terminals_feedthrough = "True;True"
                    output_terminals_show_labels = "True;True"
                }
                [
                    position = 7132, 8040
                    size = 88, 104
                ]

                component "core/C function" "C function abc to dq2" {
                    arb_defs = "/*Begin code section*/

/*End code section*/"
                    execution_rate = "Ts_Control"
                    input_terminals = "real abc;real theta;"
                    input_terminals_dimensions = "3;1"
                    input_terminals_feedthrough = "True;True"
                    input_terminals_show_labels = "True;True"
                    output_fnc = "/*Begin code section*/
d= 2.0/3.0*(cos(theta)*abc[0] + cos(theta - 2.0/3.0*M_PI)*abc[1]  + cos(theta + 2.0/3.0*M_PI)*abc[2] );
q = 2.0/3.0*(-sin(theta)*abc[0] - sin(theta - 2.0/3.0*M_PI)*abc[1]  - sin(theta + 2.0/3.0*M_PI)*abc[2] );
/*End code section*/"
                    output_terminals = "real d;real q;"
                    output_terminals_dimensions = "1;1"
                    output_terminals_feedthrough = "True;True"
                    output_terminals_show_labels = "True;True"
                }
                [
                    position = 7128, 8216
                    size = 88, 104
                ]

                component "core/Constant" Constant2 {
                    execution_rate = "Ts_Control"
                    value = "0"
                }
                [
                    position = 7004, 8076
                ]

                component "core/Constant" Constant3 {
                    execution_rate = "Ts_Control"
                    value = "0"
                }
                [
                    position = 7004, 8252
                ]

                component "core/Sum" Sum1 {
                    execution_rate = "Ts_Control"
                    signs = "---"
                }
                [
                    position = 7152, 7740
                ]

                component "core/Bus Split" "Bus Split1" {
                    execution_rate = "Ts_Control"
                    outputs = "3"
                }
                [
                    position = 7064, 7740
                ]

                component "core/Sum" Sum2 {
                    signs = "+-"
                }
                [
                    position = 7524, 7780
                ]

                component "core/Gain" Gain1 {
                    execution_rate = "Ts_Control"
                    gain = "Kp_i"
                }
                [
                    position = 7684, 7732
                ]

                component "core/C function" "C function PLL" {
                    arb_defs = "/*Begin code section*/

/*End code section*/"
                    execution_rate = "Ts_Control"
                    global_variables = "real y_q;real theta;"
                    init_fnc = "/*Begin code section*/
y_q = 0;
theta = 0;
/*End code section*/"
                    input_terminals = "real abc;"
                    input_terminals_dimensions = "3"
                    input_terminals_feedthrough = "True"
                    input_terminals_show_labels = "False"
                    output_fnc = "/*Begin code section*/
// dq transformation
d= 2.0/3.0*(cos(theta)*abc[0] + cos(theta - 2.0/3.0*M_PI)*abc[1]  + cos(theta + 2.0/3.0*M_PI)*abc[2] );
q = 2.0/3.0*(-sin(theta)*abc[0] - sin(theta - 2.0/3.0*M_PI)*abc[1]  - sin(theta + 2.0/3.0*M_PI)*abc[2] );

//error
e_q = q;

//omega
omega_pll = K_p_pll*e_q + y_q;
//theta
theta_pll = theta;
/*End code section*/"
                    output_terminals = "real d;real q;real theta_pll;real omega_pll;real e_q;"
                    output_terminals_dimensions = "1;1;1;1;1"
                    output_terminals_feedthrough = "True;True;True;True;True"
                    output_terminals_show_labels = "False;False;True;True;False"
                    parameters = "real K_p_pll;real K_i_pll;real Ts_Control;"
                    update_fnc = "/*Begin code section*/
// Integrator of the PLL
y_q= y_q + K_i_pll*Ts_Control*e_q;
// Integrator of theta
theta = theta + Ts_Control*omega_pll;
if (theta>=2*M_PI){
    theta = theta - 2*M_PI;
}
if (theta<0.0){
    theta = theta + abs(theta);
}
/*End code section*/"
                }
                [
                    position = 7188, 7464
                    size = 224, 304
                ]

                component "core/Termination" Termination3 {
                }
                [
                    position = 7388, 7592
                ]

                component "core/Termination" Termination4 {
                }
                [
                    position = 7388, 7400
                ]

                component "core/Termination" Termination5 {
                }
                [
                    position = 7388, 7336
                ]

                component "core/Sum" Sum3 {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7900, 7792
                ]

                component "core/Sum" Sum4 {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 8044, 7800
                ]

                component "core/Gain" Gain2 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 8128, 7800
                ]

                component "core/Product" Product2 {
                    execution_rate = "Ts_Control"
                    signs = "*/"
                }
                [
                    position = 8332, 7812
                ]

                component "core/Sum" Sum5 {
                    execution_rate = "Ts_Control"
                    signs = "+-"
                }
                [
                    position = 7524, 8048
                ]

                component "core/Gain" Gain3 {
                    execution_rate = "Ts_Control"
                    gain = "Kp_i"
                }
                [
                    position = 7684, 8000
                ]

                component "core/Sum" Sum6 {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7900, 8060
                ]

                component "core/Sum" Sum7 {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 8044, 8068
                ]

                component "core/Gain" Gain4 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 8128, 8068
                ]

                component "core/Product" Product3 {
                    execution_rate = "Ts_Control"
                    signs = "*/"
                }
                [
                    position = 8332, 8080
                ]

                component "core/Sum" Sum8 {
                    execution_rate = "Ts_Control"
                    signs = "+-"
                }
                [
                    position = 7556, 8308
                ]

                component "core/Gain" Gain5 {
                    execution_rate = "Ts_Control"
                    gain = "Kp_i"
                }
                [
                    position = 7716, 8260
                ]

                component "core/Sum" Sum9 {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 7932, 8320
                ]

                component "core/Gain" Gain6 {
                    execution_rate = "Ts_Control"
                    gain = "2"
                }
                [
                    position = 8096, 8320
                ]

                component "core/Product" Product4 {
                    execution_rate = "Ts_Control"
                    signs = "*/"
                }
                [
                    position = 8300, 8332
                ]

                component "core/Bus Join" "Bus Join1" {
                    execution_rate = "Ts_Control"
                }
                [
                    position = 8676, 7852
                ]

                component Subsystem Subsystem6 {
                    layout = dynamic
                    component "core/Gain" Gain1 {
                        execution_rate = "Ts_Control"
                        gain = "Kr_i"
                    }
                    [
                        position = 8068, 8120
                    ]

                    component "core/Discrete Transfer Function" "Discrete Transfer Function2" {
                        a_coeff = "[1,-1]"
                        b_coeff = "[Ts_Control,0]"
                        execution_rate = "Ts_Control"
                        signal_out_type = "real"
                    }
                    [
                        position = 8328, 8260
                        rotation = down
                    ]

                    component "core/Product" Product1 {
                        execution_rate = "Ts_Control"
                        signs = "3"
                    }
                    [
                        position = 8440, 8260
                        rotation = down
                    ]

                    component "core/Sum" Sum1 {
                        execution_rate = "Ts_Control"
                        signs = "+-"
                    }
                    [
                        position = 8200, 8132
                    ]

                    component "core/Integrator" Integrator1 {
                        reset_type = "synchronous"
                        show_reset = "rising"
                    }
                    [
                        position = 8324, 8132
                    ]

                    port omega {
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8528, 8280
                        rotation = down
                    ]

                    port error {
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8000, 8120
                    ]

                    port Out1 {
                        position = auto:auto
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8568, 8132
                    ]

                    port reset_int {
                        position = left:5
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8212, 8192
                    ]

                    junction Junction1 sp
                    [
                        position = 8488, 8276
                    ]

                    junction Junction2 sp
                    [
                        position = 8484, 8128
                    ]

                    connect Product1.in Junction1 as Connection963
                    connect Junction1 omega as Connection964
                    connect Product1.in1 Junction1 as Connection965
                    connect error Gain1.in as Connection969
                    connect Gain1.out Sum1.in as Connection970
                    connect Product1.out "Discrete Transfer Function2.in" as Connection957
                    connect "Discrete Transfer Function2.out" Sum1.in1 as Connection959
                    connect Integrator1.in Sum1.out as Connection982
                    connect Product1.in2 Junction2 as Connection983
                    connect Junction2 Out1 as Connection984
                    [
                        breakpoints = 8484, 8132
                    ]
                    connect Integrator1.out Junction2 as Connection985
                    connect reset_int Integrator1.reset as Connection986
                }
                [
                    position = 7728, 7876
                    size = 128, 80
                ]

                component Subsystem Subsystem7 {
                    layout = dynamic
                    component "core/Gain" Gain1 {
                        execution_rate = "Ts_Control"
                        gain = "Kr_i"
                    }
                    [
                        position = 8068, 8120
                    ]

                    component "core/Discrete Transfer Function" "Discrete Transfer Function2" {
                        a_coeff = "[1,-1]"
                        b_coeff = "[Ts_Control,0]"
                        execution_rate = "Ts_Control"
                        signal_out_type = "real"
                    }
                    [
                        position = 8328, 8260
                        rotation = down
                    ]

                    component "core/Product" Product1 {
                        execution_rate = "Ts_Control"
                        signs = "3"
                    }
                    [
                        position = 8440, 8260
                        rotation = down
                    ]

                    component "core/Sum" Sum1 {
                        execution_rate = "Ts_Control"
                        signs = "+-"
                    }
                    [
                        position = 8200, 8132
                    ]

                    component "core/Integrator" Integrator1 {
                        reset_type = "synchronous"
                        show_reset = "rising"
                    }
                    [
                        position = 8324, 8132
                    ]

                    port omega {
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8528, 8280
                        rotation = down
                    ]

                    port error {
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8000, 8120
                    ]

                    port Out1 {
                        position = auto:auto
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8568, 8132
                    ]

                    port reset_int {
                        position = left:5
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8232, 8184
                    ]

                    junction Junction1 sp
                    [
                        position = 8488, 8276
                    ]

                    junction Junction2 sp
                    [
                        position = 8484, 8128
                    ]

                    connect Product1.in Junction1 as Connection963
                    connect Junction1 omega as Connection964
                    connect Product1.in1 Junction1 as Connection965
                    connect error Gain1.in as Connection969
                    connect Gain1.out Sum1.in as Connection970
                    connect Product1.out "Discrete Transfer Function2.in" as Connection957
                    connect "Discrete Transfer Function2.out" Sum1.in1 as Connection959
                    connect Integrator1.in Sum1.out as Connection982
                    connect Product1.in2 Junction2 as Connection983
                    connect Junction2 Out1 as Connection984
                    [
                        breakpoints = 8484, 8132
                    ]
                    connect Integrator1.out Junction2 as Connection985
                    connect reset_int Integrator1.reset as Connection986
                }
                [
                    position = 7724, 8120
                    size = 128, 80
                ]

                component Subsystem Subsystem8 {
                    layout = dynamic
                    component "core/Gain" Gain1 {
                        execution_rate = "Ts_Control"
                        gain = "Kr_i"
                    }
                    [
                        position = 8068, 8120
                    ]

                    component "core/Discrete Transfer Function" "Discrete Transfer Function2" {
                        a_coeff = "[1,-1]"
                        b_coeff = "[Ts_Control,0]"
                        execution_rate = "Ts_Control"
                        signal_out_type = "real"
                    }
                    [
                        position = 8328, 8260
                        rotation = down
                    ]

                    component "core/Product" Product1 {
                        execution_rate = "Ts_Control"
                        signs = "3"
                    }
                    [
                        position = 8440, 8260
                        rotation = down
                    ]

                    component "core/Sum" Sum1 {
                        signs = "+-"
                    }
                    [
                        position = 8200, 8132
                    ]

                    component "core/Integrator" Integrator1 {
                        reset_type = "synchronous"
                        show_reset = "rising"
                    }
                    [
                        position = 8324, 8132
                    ]

                    port omega {
                        position = left:2
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8528, 8280
                        rotation = down
                    ]

                    port error {
                        position = left:1
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8000, 8120
                    ]

                    port Out1 {
                        position = auto:auto
                        kind = sp
                        direction =  in
                        sp_type {
                            default = inherit
                            readonly = True
                        }
                    }
                    [
                        position = 8568, 8132
                    ]

                    port reset_int {
                        position = left:5
                        kind = sp
                        direction =  out
                        sp_type {
                            default = auto
                            readonly = True
                        }
                    }
                    [
                        position = 8236, 8196
                    ]

                    junction Junction1 sp
                    [
                        position = 8488, 8276
                    ]

                    junction Junction2 sp
                    [
                        position = 8484, 8128
                    ]

                    connect Product1.in Junction1 as Connection963
                    connect Junction1 omega as Connection964
                    connect Product1.in1 Junction1 as Connection965
                    connect error Gain1.in as Connection969
                    connect Gain1.out Sum1.in as Connection970
                    connect Product1.out "Discrete Transfer Function2.in" as Connection957
                    connect "Discrete Transfer Function2.out" Sum1.in1 as Connection959
                    connect Integrator1.in Sum1.out as Connection982
                    connect Product1.in2 Junction2 as Connection983
                    connect Junction2 Out1 as Connection984
                    [
                        breakpoints = 8484, 8132
                    ]
                    connect Integrator1.out Junction2 as Connection985
                    connect reset_int Integrator1.reset as Connection986
                }
                [
                    position = 7724, 8396
                    size = 128, 80
                ]

                component "core/Constant" Constant4 {
                    execution_rate = "Ts_Control"
                    value = "omega"
                }
                [
                    position = 7512, 7876
                ]

                component "core/Constant" Constant5 {
                    execution_rate = "Ts_Control"
                    value = "omega"
                }
                [
                    position = 7544, 8112
                ]

                component "core/Constant" Constant6 {
                    execution_rate = "Ts_Control"
                    value = "omega"
                }
                [
                    position = 7548, 8400
                ]

                port is_abc_ref {
                    position = left:1
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6964, 7816
                ]

                port eta_albe {
                    position = right:1
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8804, 7852
                ]

                port is_abc {
                    position = left:2
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6960, 8004
                ]

                port vs_abc {
                    position = left:3
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6716, 8180
                ]

                port eta_n {
                    position = right:2
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8808, 7936
                ]

                port is_n {
                    position = left:4
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 7432, 8344
                ]

                port theta {
                    position = right:3
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8792, 8060
                ]

                port omega {
                    position = right:4
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8788, 8152
                ]

                port reset_int {
                    position = left:5
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6732, 8332
                ]

                port v_dc {
                    position = left:6
                    kind = sp
                    direction =  out
                    sp_type {
                        default = auto
                        readonly = True
                    }
                }
                [
                    position = 6688, 8428
                ]

                port is_al_ref {
                    position = right:5
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8788, 8232
                ]

                port is_be_ref {
                    position = right:6
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8772, 8356
                ]

                port is_n_ref {
                    position = right:7
                    kind = sp
                    direction =  in
                    sp_type {
                        default = inherit
                        readonly = True
                    }
                }
                [
                    position = 8768, 8448
                ]

                tag Goto46 {
                    value = "is_n_ref"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7244, 7740
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto47 {
                    value = "is_al_ref"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7244, 7816
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto48 {
                    value = "is_be_ref"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7244, 7888
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto49 {
                    value = "is_al"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7240, 8004
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto50 {
                    value = "is_be"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7236, 8076
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto51 {
                    value = "vs_al"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7236, 8180
                    hide_name = True
                    size = 60, 20
                ]

                tag Goto52 {
                    value = "vs_be"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7232, 8252
                    hide_name = True
                    size = 60, 20
                ]

                tag From134 {
                    value = "is_al_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7400, 7772
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From135 {
                    value = "is_al"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7396, 7808
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto36 {
                    value = "omega"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7380, 7528
                    hide_name = True
                    size = 60, 20
                ]

                tag From136 {
                    value = "omega"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7432, 7948
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From137 {
                    value = "vs_al"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7948, 7864
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From101 {
                    value = "v_dc"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8204, 7884
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto53 {
                    value = "eta_al"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8428, 7812
                    hide_name = True
                    size = 60, 20
                ]

                tag From138 {
                    value = "is_be_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7404, 8040
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From139 {
                    value = "is_be"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7396, 8076
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From140 {
                    value = "omega"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7420, 8124
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From141 {
                    value = "vs_be"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7948, 8132
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From142 {
                    value = "v_dc"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8204, 8152
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto54 {
                    value = "eta_be"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8444, 8080
                    hide_name = True
                    size = 60, 20
                ]

                tag From143 {
                    value = "is_n_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7436, 8300
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From145 {
                    value = "omega"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7464, 8396
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From147 {
                    value = "v_dc"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8140, 8400
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto55 {
                    value = "eta_n"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 8416, 8332
                    hide_name = True
                    size = 60, 20
                ]

                tag From148 {
                    value = "eta_al"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8540, 7828
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From149 {
                    value = "eta_be"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8540, 7884
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From150 {
                    value = "eta_n"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8644, 7952
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto56 {
                    value = "theta"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 7380, 7464
                    hide_name = True
                    size = 60, 20
                ]

                tag From151 {
                    value = "theta"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8680, 8060
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From152 {
                    value = "omega"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8676, 8152
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto57 {
                    value = "reset_int"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 6844, 8332
                    hide_name = True
                    size = 60, 20
                ]

                tag From153 {
                    value = "reset_int"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7540, 8152
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From154 {
                    value = "reset_int"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7572, 7932
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From155 {
                    value = "reset_int"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 7568, 8460
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag Goto58 {
                    value = "v_dc"
                    scope = local
                    kind = sp
                    direction = in
                }
                [
                    position = 6800, 8428
                    hide_name = True
                    size = 60, 20
                ]

                tag From156 {
                    value = "is_al_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8684, 8232
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From157 {
                    value = "is_be_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8676, 8356
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                tag From158 {
                    value = "is_n_ref"
                    scope = local
                    kind = sp
                    direction = out
                }
                [
                    position = 8668, 8448
                    rotation = down
                    hide_name = True
                    scale = -1, 1
                    size = 60, 20
                ]

                junction Junction1 sp
                [
                    position = 7004, 7816
                ]

                junction Junction188 sp
                [
                    position = 6800, 8180
                ]

                junction Junction194 sp
                [
                    position = 7564, 7780
                ]

                junction Junction195 sp
                [
                    position = 7564, 8048
                ]

                junction Junction196 sp
                [
                    position = 7596, 8304
                ]

                connect Constant1.out "C function abc to dq.theta" as Connection2
                connect is_abc "C function abc to dq1.abc" as Connection3
                connect Constant2.out "C function abc to dq1.theta" as Connection5
                connect Constant3.out "C function abc to dq2.theta" as Connection6
                connect "Bus Split1.out" Sum1.in as Connection7
                connect "Bus Split1.out1" Sum1.in1 as Connection8
                connect "Bus Split1.out2" Sum1.in2 as Connection9
                connect is_abc_ref Junction1 as Connection10
                connect Junction1 "C function abc to dq.abc" as Connection11
                connect "Bus Split1.in" Junction1 as Connection12
                connect Goto47 "C function abc to dq.d" as Connection14
                connect Goto48 "C function abc to dq.q" as Connection15
                connect Goto49 "C function abc to dq1.d" as Connection16
                connect Goto50 "C function abc to dq1.q" as Connection17
                connect Goto51 "C function abc to dq2.d" as Connection18
                connect Goto52 "C function abc to dq2.q" as Connection19
                connect From134 Sum2.in as Connection20
                connect From135 Sum2.in1 as Connection21
                connect "C function PLL.e_q" Termination3.in as Connection497
                connect Goto36 "C function PLL.omega_pll" as Connection502
                connect vs_abc Junction188 as Connection524
                connect Junction188 "C function abc to dq2.abc" as Connection525
                connect "C function PLL.abc" Junction188 as Connection526
                connect Termination4.in "C function PLL.q" as Connection527
                connect Termination5.in "C function PLL.d" as Connection528
                connect Sum3.in Gain1.out as Connection531
                connect Sum3.out Sum4.in as Connection533
                connect From137 Sum4.in1 as Connection534
                connect Gain2.in Sum4.out as Connection535
                connect From101 Product2.in1 as Connection832
                connect Gain2.out Product2.in as Connection833
                connect From138 Sum5.in as Connection835
                connect From139 Sum5.in1 as Connection836
                connect Sum6.in Gain3.out as Connection841
                connect Sum6.out Sum7.in as Connection843
                connect From141 Sum7.in1 as Connection844
                connect Gain4.in Sum7.out as Connection845
                connect From142 Product3.in1 as Connection846
                connect Gain4.out Product3.in as Connection847
                connect From143 Sum8.in as Connection849
                connect Sum9.in Gain5.out as Connection855
                connect From147 Product4.in1 as Connection860
                connect Gain6.out Product4.in as Connection861
                connect Gain6.in Sum9.out as Connection863
                connect From148 "Bus Join1.in" as Connection864
                connect From149 "Bus Join1.in1" as Connection865
                connect eta_albe "Bus Join1.out" as Connection866
                connect From150 eta_n as Connection867
                connect is_n Sum8.in1 as Connection868
                connect "C function PLL.theta_pll" Goto56 as Connection881
                connect From151 theta as Connection882
                connect Subsystem6.Out1 Sum3.in1 as Connection893
                connect Sum2.out Junction194 as Connection895
                connect Junction194 Gain1.in as Connection896
                [
                    breakpoints = 7564, 7780
                ]
                connect Subsystem6.error Junction194 as Connection897
                connect Sum5.out Junction195 as Connection900
                connect Junction195 Gain3.in as Connection901
                [
                    breakpoints = 7564, 8048; 7564, 8044
                ]
                connect Subsystem7.error Junction195 as Connection902
                connect Subsystem7.Out1 Sum6.in1 as Connection904
                connect Subsystem8.Out1 Sum9.in1 as Connection905
                connect Gain5.in Junction196 as Connection906
                connect Junction196 Sum8.out as Connection907
                [
                    breakpoints = 7596, 8308
                ]
                connect Subsystem8.error Junction196 as Connection908
                connect From152 omega as Connection910
                connect reset_int Goto57 as Connection911
                connect From153 Subsystem7.reset_int as Connection913
                connect From154 Subsystem6.reset_int as Connection914
                connect From155 Subsystem8.reset_int as Connection915
                connect v_dc Goto58 as Connection916
                connect Sum1.out Goto46 as Connection917
                connect Goto53 Product2.out as Connection918
                connect Goto54 Product3.out as Connection919
                connect Product4.out Goto55 as Connection920
                connect Constant4.out Subsystem6.omega as Connection921
                connect Constant5.out Subsystem7.omega as Connection922
                connect Constant6.out Subsystem8.omega as Connection923
                connect From156 is_al_ref as Connection924
                connect From157 is_be_ref as Connection925
                connect is_n_ref From158 as Connection926
            }
            [
                position = 9152, 7408
                size = 168, 448
            ]

            component "core/Bus Join" "Bus Join10" {
                execution_rate = "Ts_Control"
                inputs = "3"
            }
            [
                position = 8976, 7200
            ]

            component "core/Bus Join" "Bus Join12" {
                execution_rate = "Ts_Control"
                inputs = "3"
            }
            [
                position = 8968, 7292
            ]

            component "core/Bus Join" "Bus Join13" {
                execution_rate = "Ts_Control"
                inputs = "3"
            }
            [
                position = 8976, 7388
            ]

            component "core/C function" "C function dq to abc1" {
                arb_defs = "/*Begin code section*/

/*End code section*/"
                execution_rate = "Ts_Control"
                init_fnc = "/*Begin code section*/

/*End code section*/"
                input_terminals = "real dq;real theta;"
                input_terminals_dimensions = "2;1"
                input_terminals_feedthrough = "True;True"
                input_terminals_show_labels = "True;True"
                output_fnc = "/*Begin code section*/
a= cos(theta)*dq[0] - sin(theta)*dq[1];
b= cos(theta -2.0/3.0*M_PI)*dq[0]  - sin(theta-2.0/3.0*M_PI)*dq[1];
c= cos(theta +2.0/3.0*M_PI)*dq[0] - sin(theta+2.0/3.0*M_PI)*dq[1];
/*End code section*/"
                output_terminals = "real a;real b;real c;"
                output_terminals_dimensions = "1;1;1"
                output_terminals_feedthrough = "True;True;True"
                output_terminals_show_labels = "True;True;True"
                update_fnc = "/*Begin code section*/

/*End code section*/"
            }
            [
                position = 9560, 7264
                size = 176, 152
            ]

            component "core/Constant" Constant5 {
                execution_rate = "Ts_Control"
                value = "0"
            }
            [
                position = 9408, 7324
            ]

            component "core/Bus Join" "Bus Join14" {
                execution_rate = "Ts_Control"
                inputs = "3"
            }
            [
                position = 9748, 7264
            ]

            component "TI C2000 Toolbox/SCI Setup (Generic)" "SCI Setup1" {
                execution_rate = "Tslow"
            }
            [
                position = 7552, 7272
                size = 127, 63
            ]

            component "TI C2000 Toolbox/SCI Receive (Generic)" "SCI Receive1" {
                execution_rate = "Ts_Control"
                timeout = "0"
                var_names = "id_ref,iq_ref,K_unb_a,reset_int"
                vct_size = "4"
            }
            [
                position = 7172, 7272
                size = 127, 144
            ]

            component "TI C2000 Toolbox/SCI Send (Generic)" "SCI Send1" {
                var_names = "ia_rms_ref,ib_rms_ref,ic_rms_ref,omega"
                vct_size = "4"
            }
            [
                position = 7880, 7264
                size = 127, 144
            ]

            component "core/Bus Join" "Bus Join11" {
                execution_rate = "Ts_Control"
            }
            [
                position = 7380, 7200
            ]

            component "TI C2000 Toolbox/GPIO DO (Generic)" "GPIO DO (Generic)1" {
                hil_di_nr = "12"
                pin_action = "Pin Ctrl"
            }
            [
                position = 7360, 7456
                size = 127, 63
            ]

            component "core/Sum" Sum3 {
                execution_rate = "Ts_Control"
            }
            [
                position = 10124, 7384
            ]

            component "core/Constant" Constant6 {
                execution_rate = "Ts_Control"
            }
            [
                position = 10016, 7404
            ]

            component "core/Gain" Gain3 {
                execution_rate = "Ts_Control"
                gain = "0.5"
            }
            [
                position = 10200, 7384
            ]

            component "core/Constant" Constant4 {
                execution_rate = "Ts_Control"
            }
            [
                position = 7320, 7696
            ]

            component "core/Sum" Sum2 {
                execution_rate = "Ts_Control"
                signs = "+-"
            }
            [
                position = 7448, 7704
            ]

            component "core/Delay" Delay1 {
                del_length = "1"
                execution_rate = "Ts_Control"
            }
            [
                position = 7444, 7820
                rotation = down
            ]

            component "TI C2000 Toolbox/GPIO DO (Generic)" "GPIO DO (Generic)2" {
                hil_di_nr = "7"
                pin_action = "Pin Ctrl"
            }
            [
                position = 7616, 7704
                size = 127, 63
            ]

            component "core/Constant" Constant7 {
                execution_rate = "Ts_Control"
                value = "800"
            }
            [
                position = 8936, 7608
            ]

            component "core/RMS value" "RMS value1" {
                execution_rate = "Ts_Control"
                op_mode = "Fixed frequency"
            }
            [
                position = 8540, 7536
            ]

            component "core/RMS value" "RMS value2" {
                execution_rate = "Ts_Control"
                op_mode = "Fixed frequency"
            }
            [
                position = 8540, 7616
            ]

            component "core/RMS value" "RMS value3" {
                execution_rate = "Ts_Control"
                op_mode = "Fixed frequency"
            }
            [
                position = 8544, 7708
            ]

            tag From74 {
                value = "eta_abc"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 9972, 7256
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto43 {
                value = "is_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6216, 7504
                hide_name = True
                size = 60, 20
            ]

            tag Goto44 {
                value = "is_b"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6208, 7604
                hide_name = True
                size = 60, 20
            ]

            tag Goto45 {
                value = "is_c"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6208, 7712
                hide_name = True
                size = 60, 20
            ]

            tag Goto46 {
                value = "vs_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6220, 7080
                hide_name = True
                size = 60, 20
            ]

            tag Goto47 {
                value = "vs_b"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6212, 7180
                hide_name = True
                size = 60, 20
            ]

            tag Goto48 {
                value = "vs_c"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6212, 7288
                hide_name = True
                size = 60, 20
            ]

            tag Goto61 {
                value = "is_n"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6208, 7824
                hide_name = True
                size = 60, 20
            ]

            tag From113 {
                value = "is_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6528, 7284
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From114 {
                value = "vs_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6532, 7316
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto62 {
                value = "is_a_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6856, 7292
                hide_name = True
                size = 68, 20
            ]

            tag Goto63 {
                value = "vs_a_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6860, 7340
                hide_name = True
                size = 68, 20
            ]

            tag Goto64 {
                value = "is_b_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6860, 7388
                hide_name = True
                size = 68, 20
            ]

            tag Goto65 {
                value = "vs_b_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6860, 7436
                hide_name = True
                size = 68, 20
            ]

            tag Goto66 {
                value = "is_c_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6856, 7484
                hide_name = True
                size = 68, 20
            ]

            tag Goto67 {
                value = "vs_c_albe"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 6856, 7532
                hide_name = True
                size = 68, 20
            ]

            tag From115 {
                value = "is_b"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6532, 7348
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From116 {
                value = "vs_b"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6536, 7380
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From117 {
                value = "is_c"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6532, 7412
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From118 {
                value = "vs_c"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6536, 7444
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From147 {
                value = "omega"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 6396, 7508
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From145 {
                value = "theta"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8080, 7380
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From146 {
                value = "is_dq_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8076, 7260
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto68 {
                value = "is_a_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8724, 7236
                hide_name = True
                size = 60, 20
            ]

            tag Goto69 {
                value = "is_b_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8472, 7320
                hide_name = True
                size = 60, 20
            ]

            tag Goto70 {
                value = "is_c_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8468, 7376
                hide_name = True
                size = 60, 20
            ]

            tag From148 {
                value = "K_unb_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8480, 7248
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From134 {
                value = "is_a_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8868, 7172
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From135 {
                value = "is_b_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8864, 7200
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From136 {
                value = "is_c_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8868, 7232
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From137 {
                value = "is_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8856, 7264
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From138 {
                value = "vs_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8852, 7356
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From139 {
                value = "is_b"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8856, 7292
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From140 {
                value = "vs_b"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8860, 7388
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From142 {
                value = "vs_c"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8860, 7428
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From143 {
                value = "is_c"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8856, 7328
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From144 {
                value = "is_n"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8952, 7464
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto71 {
                value = "theta"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9316, 7344
                hide_name = True
                size = 60, 20
            ]

            tag Goto72 {
                value = "omega"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9324, 7408
                hide_name = True
                size = 60, 20
            ]

            tag Goto41 {
                value = "eta_abc"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9864, 7264
                hide_name = True
                size = 60, 20
            ]

            tag Goto73 {
                value = "eta_n"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9352, 7280
                hide_name = True
                size = 60, 20
            ]

            tag Goto49 {
                value = "is_dq_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7468, 7200
                hide_name = True
                size = 60, 20
            ]

            tag From76 {
                value = "omega"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7736, 7352
                hide_name = True
                size = 58, 20
            ]

            tag Goto57 {
                value = "reset_int"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7424, 7348
                hide_name = True
                size = 60, 20
            ]

            tag From82 {
                value = "reset_int"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7208, 7456
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From83 {
                value = "is_a_rms_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7700, 7212
                hide_name = True
                size = 58, 20
            ]

            tag From84 {
                value = "is_b_rms_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7688, 7244
                hide_name = True
                size = 58, 20
            ]

            tag From85 {
                value = "is_c_rms_ref"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 7704, 7272
                hide_name = True
                size = 58, 20
            ]

            tag From155 {
                value = "reset_int"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8932, 7528
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto74 {
                value = "K_unb_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 7340, 7312
                hide_name = True
                size = 60, 20
            ]

            tag From156 {
                value = "eta_n"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 10008, 7356
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From157 {
                value = "eta_a"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8440, 7536
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From158 {
                value = "eta_b"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8440, 7616
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag From159 {
                value = "eta_c"
                scope = local
                kind = sp
                direction = out
            }
            [
                position = 8444, 7708
                rotation = down
                hide_name = True
                scale = -1, 1
                size = 60, 20
            ]

            tag Goto75 {
                value = "is_a_rms_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8664, 7536
                hide_name = True
                size = 84, 20
            ]

            tag Goto76 {
                value = "is_b_rms_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8656, 7616
                hide_name = True
                size = 84, 20
            ]

            tag Goto77 {
                value = "is_c_rms_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 8648, 7708
                hide_name = True
                size = 84, 20
            ]

            tag Goto78 {
                value = "is_al_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9324, 7472
                hide_name = True
                size = 60, 20
            ]

            tag Goto79 {
                value = "is_be_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9324, 7536
                hide_name = True
                size = 60, 20
            ]

            tag Goto80 {
                value = "is_n_ref"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9316, 7600
                hide_name = True
                size = 60, 20
            ]

            tag Goto81 {
                value = "eta_a"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9792, 7168
                hide_name = True
                size = 60, 20
            ]

            tag Goto82 {
                value = "eta_b"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9828, 7344
                hide_name = True
                size = 60, 20
            ]

            tag Goto83 {
                value = "eta_c"
                scope = local
                kind = sp
                direction = in
            }
            [
                position = 9788, 7384
                hide_name = True
                size = 60, 20
            ]

            junction Junction221 sp
            [
                position = 6612, 7508
            ]

            junction Junction9 sp
            [
                position = 7488, 7708
            ]

            junction Junction222 sp
            [
                position = 9704, 7208
            ]

            junction Junction223 sp
            [
                position = 9700, 7264
            ]

            junction Junction224 sp
            [
                position = 9664, 7316
            ]

            comment Comment4 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><meta charset="utf-8" /><style type="text/css">p, li { white-space: pre-wrap; }hr { height: 1px; border-width: 0; }li.unchecked::marker { content: "\2610"; }li.checked::marker { content: "\2612"; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Three-phase virtual system</p></body></html> ENDCOMMENT 
            [
                position = 6636, 7140
            ]

            comment Comment5 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Current references</p></body></html> ENDCOMMENT 
            [
                position = 8272, 7136
            ]

            comment Comment6 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><meta charset="utf-8" /><style type="text/css">p, li { white-space: pre-wrap; }hr { height: 1px; border-width: 0; }li.unchecked::marker { content: "\2610"; }li.checked::marker { content: "\2612"; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">alpha-beta resonant controller</p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html> ENDCOMMENT 
            [
                position = 9028, 7076
            ]

            comment Comment7 START <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><meta charset="utf-8" /><style type="text/css">p, li { white-space: pre-wrap; }hr { height: 1px; border-width: 0; }li.unchecked::marker { content: "\2610"; }li.checked::marker { content: "\2612"; }</style></head><body style=" font-family:'Arial'; font-size:12pt; font-weight:400; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">PWM</p><p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html> ENDCOMMENT 
            [
                position = 10108, 7072
            ]

            scheme_area Area4 {
                title = <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><meta charset="utf-8" /><style type="text/css">p, li { white-space: pre-wrap; }hr { height: 1px; border-width: 0; }li.unchecked::marker { content: "\2610"; }li.checked::marker { content: "\2612"; }</style></head><body style=" font-family:'Tahoma'; font-size:14pt; font-weight:100; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:1;">Peripherals AO Currents</span></p></body></html>
            }
            [
                position = 6096, 7664
                size = 356, 508
            ]

            scheme_area Area5 {
                title = <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><meta charset="utf-8" /><style type="text/css">p, li { white-space: pre-wrap; }hr { height: 1px; border-width: 0; }li.unchecked::marker { content: "\2610"; }li.checked::marker { content: "\2612"; }</style></head><body style=" font-family:'Tahoma'; font-size:14pt; font-weight:100; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:1;">Peripherals AO Voltages</span></p></body></html>
            }
            [
                position = 6100, 7176
                size = 356, 380
            ]

            scheme_area Area6 {
                title = <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Tahoma'; font-size:14pt; font-weight:0; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Peripherals</p></body></html>
            }
            [
                position = 10192, 7356
                size = 564, 436
            ]

            scheme_area Area3 {
                title = <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd"><html><head><meta name="qrichtext" content="1" /><style type="text/css">p, li { white-space: pre-wrap; }</style></head><body style=" font-family:'Tahoma'; font-size:14pt; font-weight:0; font-style:normal;"><p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Serial Communication</p></body></html>
            }
            [
                position = 7528, 7356
                size = 912, 532
            ]

            connect Goto43 "ADC (Generic)1.Out" as Connection766
            connect Goto44 "ADC (Generic)2.Out" as Connection767
            connect Goto45 "ADC (Generic)3.Out" as Connection768
            connect Goto46 "ADC (Generic)4.Out" as Connection769
            connect Goto47 "ADC (Generic)5.Out" as Connection770
            connect Goto48 "ADC (Generic)6.Out" as Connection771
            connect Sum1.in From74 as Connection772
            connect Sum1.in1 Constant1.out as Connection773
            connect Sum1.out Gain1.in as Connection774
            connect "Bus Split1.in" Gain1.out as Connection775
            connect "Bus Split1.out" "ePWM (Generic)1.In1" as Connection776
            connect "ePWM (Generic)1.In2" "Bus Split1.out1" as Connection777
            connect "Bus Split1.out2" "ePWM (Generic)1.In3" as Connection778
            connect Constant2.out "ePWM (Generic)2.In1" as Connection7565
            connect Goto61 "ADC (Generic)7.Out" as Connection7589
            connect From113 "Virtual 3ph3w.is_a" as Connection894
            connect From115 "Virtual 3ph3w.is_b" as Connection904
            connect From117 "Virtual 3ph3w.is_c" as Connection906
            connect Gain2.in From147 as Connection1083
            connect From145 "C function dq to abc2.theta" as Connection1001
            connect From146 "C function dq to abc2.dq" as Connection1002
            connect "C function dq to abc2.a" Product1.in as Connection1025
            [
                breakpoints = 8408, 7216; 8456, 7216
            ]
            connect Product1.out Goto68 as Connection7594
            connect From148 Product1.in1 as Connection7595
            connect From134 "Bus Join10.in" as Connection945
            connect From135 "Bus Join10.in1" as Connection946
            connect From136 "Bus Join10.in2" as Connection947
            connect "Bus Join10.out" current_ctrl.is_abc_ref as Connection948
            connect From137 "Bus Join12.in" as Connection949
            connect "Bus Join12.in1" From139 as Connection950
            connect From143 "Bus Join12.in2" as Connection951
            connect From140 "Bus Join13.in1" as Connection952
            connect From138 "Bus Join13.in" as Connection953
            connect From142 "Bus Join13.in2" as Connection954
            connect "Bus Join13.out" current_ctrl.vs_abc as Connection955
            connect "C function dq to abc1.dq" current_ctrl.eta_albe as Connection957
            connect Constant5.out "C function dq to abc1.theta" as Connection958
            connect Goto71 current_ctrl.theta as Connection1000
            connect current_ctrl.omega Goto72 as Connection1027
            connect Goto69 "C function dq to abc2.b" as Connection7596
            connect Goto70 "C function dq to abc2.c" as Connection7597
            [
                breakpoints = 8412, 7376
            ]
            connect "Bus Join12.out" current_ctrl.is_abc as Connection7598
            connect Goto41 "Bus Join14.out" as Connection7603
            connect Goto73 current_ctrl.eta_n as Connection7604
            connect Goto49 "Bus Join11.out" as Connection7533
            connect "SCI Receive1.var4" Goto57 as Connection7561
            [
                breakpoints = 7252, 7348; 7280, 7348; 7280, 7344
            ]
            connect From82 "GPIO DO (Generic)1.In" as Connection7564
            connect Goto74 "SCI Receive1.var3" as Connection7606
            [
                breakpoints = 7264, 7312; 7264, 7280
            ]
            connect Sum3.in From156 as Connection7607
            connect Sum3.in1 Constant6.out as Connection7608
            connect Sum3.out Gain3.in as Connection7609
            connect Sum2.in Constant4.out as Connection7577
            connect Delay1.out Sum2.in1 as Connection7579
            connect Delay1.in Junction9 as Connection7584
            connect Junction9 Sum2.out as Connection7585
            [
                breakpoints = 7488, 7708
            ]
            connect "GPIO DO (Generic)2.In" Junction9 as Connection7586
            connect "Bus Join11.in1" "SCI Receive1.var2" as Connection7611
            [
                breakpoints = 7344, 7208; 7344, 7264
            ]
            connect "SCI Receive1.var1" "Bus Join11.in" as Connection7612
            [
                breakpoints = 7252, 7232; 7304, 7232; 7304, 7232; 7276, 7232; 7292, 7232
            ]
            connect From155 current_ctrl.reset_int as Connection7613
            connect Constant7.out current_ctrl.v_dc as Connection7614
            connect Goto67 "Virtual 3ph3w.vs_c_albe" as Connection7618
            connect Goto66 "Virtual 3ph3w.is_c_albe" as Connection7619
            connect Goto65 "Virtual 3ph3w.vs_b_albe" as Connection7620
            connect Goto64 "Virtual 3ph3w.is_b_albe" as Connection7621
            connect Goto63 "Virtual 3ph3w.vs_a_albe" as Connection7622
            connect Goto62 "Virtual 3ph3w.is_a_albe" as Connection7623
            connect From118 "Virtual 3ph3w.vs_c" as Connection7624
            connect From116 "Virtual 3ph3w.vs_b" as Connection7625
            connect From114 "Virtual 3ph3w.vs_a" as Connection7626
            connect Junction221 Gain2.out as Connection7627
            [
                breakpoints = 6592, 7508
            ]
            connect From144 current_ctrl.is_n as Connection7628
            connect From157 "RMS value1.in" as Connection7629
            connect From158 "RMS value2.in" as Connection7630
            connect From159 "RMS value3.in" as Connection7631
            connect Goto76 "RMS value2.out" as Connection7632
            connect Goto77 "RMS value3.out" as Connection7633
            connect Goto75 "RMS value1.out" as Connection7634
            connect From76 "SCI Send1.var4" as Connection7635
            connect From85 "SCI Send1.var3" as Connection7636
            connect From84 "SCI Send1.var2" as Connection7637
            connect From83 "SCI Send1.var1" as Connection7638
            connect current_ctrl.is_al_ref Goto78 as Connection7639
            connect Goto80 current_ctrl.is_n_ref as Connection7640
            connect Goto79 current_ctrl.is_be_ref as Connection7641
            connect Gain3.out "ePWM (Generic)1.In4" as Connection7642
            connect "C function dq to abc1.a" Junction222 as Connection7643
            connect Junction222 "Bus Join14.in" as Connection7644
            connect Goto81 Junction222 as Connection7645
            connect "Bus Join14.in1" Junction223 as Connection7646
            connect Junction223 "C function dq to abc1.b" as Connection7647
            connect Goto82 Junction223 as Connection7648
            connect "Bus Join14.in2" Junction224 as Connection7649
            connect Junction224 "C function dq to abc1.c" as Connection7650
            connect Goto83 Junction224 as Connection7651
        }
        [
            position = 9356, 8260
            size = 512, 416
        ]

        component "TI C2000 Toolbox/TI C2000 Setup" "TI RCP Setup1" {
            build_and_deploy_action = "False"
            c2000ware_root_path = "C:\ti\c2000\C2000Ware_5_04_00_00"
            ccs_project_name = "albe_current_ctrl_acg"
            ccs_project_path = "C:/workspace/Typhoon_USE/Auto_code_gen/VSC_USE/updated"
            ccs_root_path = "C:\ti\ccs1230"
            exp_subsys_name = "albe_current_ctrl"
        }
        [
            position = 9744, 8068
            size = 64, 64
        ]

        component Subsystem Plant {
            layout = dynamic
            component "core/Three Phase Voltage Source" Vs1 {
            }
            [
                position = 9428, 8036
                rotation = down
                scale = 1, -1
                size = 62, 256
            ]

            component "core/Series RLC Branch" "Series RLC Branch1" {
                branch_type = "RL"
                inductance = "2.5e-3"
                num_phases = "Three-Phase"
                resistance = "0.1"
            }
            [
                position = 7804, 8036
                size = 128, 256
            ]

            component "core/Series RLC Branch" "Series RLC Branch2" {
                branch_type = "RL"
                inductance = "2.5e-3"
                num_phases = "Three-Phase"
                resistance = "0.1"
            }
            [
                position = 8540, 8036
                size = 128, 256
            ]

            component "core/Series RLC Branch" "Series RLC Branch3" {
                branch_type = "RC"
                capacitance = "1e-6"
                inductance = "L_t"
                num_phases = "Three-Phase"
                resistance = "27"
            }
            [
                position = 8316, 8324
                rotation = right
                size = 128, 256
            ]

            component "core/Voltage Source" v_dc {
            }
            [
                position = 6836, 7956
                rotation = right
            ]

            component "core/Current Measurement" Iag {
            }
            [
                position = 9172, 7940
                size = 64, 32
            ]

            component "core/Voltage Measurement" Va {
            }
            [
                position = 9252, 8260
                rotation = right
                size = 64, 32
            ]

            component "core/Current Measurement" Ibg {
            }
            [
                position = 9172, 8036
                size = 64, 32
            ]

            component "core/Current Measurement" Icg {
            }
            [
                position = 9180, 8132
                size = 64, 32
            ]

            component "core/Voltage Measurement" Vb {
            }
            [
                position = 9308, 8260
                rotation = right
                size = 64, 32
            ]

            component "core/Voltage Measurement" Vc {
            }
            [
                position = 9372, 8260
                rotation = right
                size = 64, 32
            ]

            component "core/Ground" gnd1 {
            }
            [
                position = 9308, 8356
            ]

            component "core/Ground" gnd2 {
            }
            [
                position = 9548, 8140
            ]

            component "core/Ground" gnd3 {
            }
            [
                position = 8308, 8532
            ]

            component "core/Resistor" R1 {
                resistance = "0.001"
            }
            [
                position = 6924, 7852
            ]

            component "core/Half Bridge" "IGBT Leg1" {
                fvd_def_method = "LUT"
                pwm_enable_di = "12"
                pwm_enabling = "True"
                signal_access = "Inherit"
            }
            [
                position = 7220, 7996
                size = 80, 192
            ]

            component "core/Half Bridge" "IGBT Leg2" {
                S_bot = "4"
                S_top = "3"
                fvd_def_method = "LUT"
                pwm_enable_di = "12"
                pwm_enabling = "True"
                signal_access = "Inherit"
            }
            [
                position = 7380, 8148
                size = 80, 192
            ]

            component "core/Half Bridge" "IGBT Leg3" {
                S_bot = "6"
                S_top = "5"
                fvd_def_method = "LUT"
                pwm_enable_di = "12"
                pwm_enabling = "True"
                signal_access = "Inherit"
            }
            [
                position = 7452, 8412
                size = 80, 192
            ]

            component "core/Voltage Measurement" v_h {
            }
            [
                position = 6996, 8084
                rotation = right
                size = 64, 32
            ]

            component "core/Capacitor" C1 {
                capacitance = "2200e-6"
                initial_voltage = "365"
                signal_access = "Inherit"
            }
            [
                position = 7140, 8084
                rotation = right
            ]

            component "core/Resistor" R9 {
                resistance = "1e5"
            }
            [
                position = 7052, 8084
                rotation = right
            ]

            component "core/Capacitor" C2 {
                capacitance = "2200e-6"
                initial_voltage = "365"
                signal_access = "Inherit"
            }
            [
                position = 7140, 8292
                rotation = right
            ]

            component "core/Resistor" R10 {
                resistance = "1e5"
            }
            [
                position = 7052, 8292
                rotation = right
            ]

            junction Junction1 pe
            [
                position = 8220, 7940
            ]

            junction Junction2 pe
            [
                position = 8316, 8036
            ]

            junction Junction3 pe
            [
                position = 8412, 8132
            ]

            junction Junction4 pe
            [
                position = 8316, 8452
            ]

            junction Junction5 pe
            [
                position = 9252, 7940
            ]

            junction Junction6 pe
            [
                position = 9308, 8036
            ]

            junction Junction7 pe
            [
                position = 9372, 8132
            ]

            junction Junction8 pe
            [
                position = 9308, 8300
            ]

            junction Junction9 pe
            [
                position = 8316, 8452
            ]

            junction Junction16 pe
            [
                position = 7284, 8516
            ]

            junction Junction19 pe
            [
                position = 7188, 8516
            ]

            junction Junction22 pe
            [
                position = 7100, 8516
            ]

            junction Junction23 pe
            [
                position = 7380, 7852
            ]

            junction Junction24 pe
            [
                position = 7220, 7852
            ]

            junction Junction25 pe
            [
                position = 6996, 7852
            ]

            junction Junction18 pe
            [
                position = 7052, 8196
            ]

            junction Junction26 pe
            [
                position = 7140, 8196
            ]

            junction Junction27 pe
            [
                position = 7052, 7852
            ]

            junction Junction28 pe
            [
                position = 7052, 8004
            ]

            junction Junction29 pe
            [
                position = 7052, 8516
            ]

            junction Junction30 pe
            [
                position = 7052, 8396
            ]

            connect "Series RLC Branch1.P1_neg" Junction1 as Connection9
            connect Junction1 "Series RLC Branch2.P1_pos" as Connection10
            connect "Series RLC Branch3.P3_pos" Junction1 as Connection11
            connect "Series RLC Branch1.P2_neg" Junction2 as Connection12
            [
                breakpoints = 7980, 8036; 8316, 8036
            ]
            connect Junction2 "Series RLC Branch2.P2_pos" as Connection13
            connect "Series RLC Branch3.P2_pos" Junction2 as Connection14
            connect "Series RLC Branch1.P3_neg" Junction3 as Connection15
            [
                breakpoints = 7908, 8132; 8100, 8132; 8100, 8140; 8412, 8140
            ]
            connect Junction3 "Series RLC Branch2.P3_pos" as Connection16
            connect "Series RLC Branch3.P1_pos" Junction3 as Connection17
            connect "Series RLC Branch3.P3_neg" Junction4 as Connection19
            [
                breakpoints = 8228, 8452
            ]
            connect Junction4 "Series RLC Branch3.P2_neg" as Connection20
            connect Vs1.a_node Junction5 as Connection31
            connect Junction5 Iag.n_node as Connection32
            connect Va.p_node Junction5 as Connection33
            connect Ibg.n_node Junction6 as Connection34
            connect Junction6 Vs1.b_node as Connection35
            connect Vb.p_node Junction6 as Connection36
            [
                breakpoints = 9300, 8220; 9300, 8036
            ]
            connect Icg.n_node Junction7 as Connection37
            connect Junction7 Vs1.c_node as Connection38
            connect Vc.p_node Junction7 as Connection39
            [
                breakpoints = 9372, 8220; 9372, 8132
            ]
            connect Vc.n_node Vb.n_node as Connection40
            connect Va.n_node Junction8 as Connection42
            connect Junction8 Vb.n_node as Connection43
            connect gnd1.node Junction8 as Connection44
            connect gnd2.node Vs1.n_node as Connection45
            connect "Series RLC Branch3.P1_neg" Junction9 as Connection46
            connect Junction9 Junction4 as Connection47
            connect gnd3.node Junction9 as Connection48
            connect R1.p_node v_dc.p_node as Connection53
            connect Junction16 "IGBT Leg3.neg_out" as Connection79
            connect "IGBT Leg2.neg_out" Junction16 as Connection80
            connect "IGBT Leg1.a_in" "Series RLC Branch1.P1_pos" as Connection88
            [
                breakpoints = 7276, 7940; 7724, 7940
            ]
            connect "Series RLC Branch1.P2_pos" "IGBT Leg2.a_in" as Connection89
            connect "Series RLC Branch1.P3_pos" "IGBT Leg3.a_in" as Connection90
            connect Junction19 Junction16 as Connection92
            connect Junction19 "IGBT Leg1.neg_out" as Connection98
            [
                breakpoints = 7188, 8516; 7188, 8516
            ]
            connect v_dc.n_node Junction22 as Connection108
            connect Junction22 Junction19 as Connection109
            connect "IGBT Leg2.pos_out" Junction23 as Connection113
            connect Junction23 "IGBT Leg3.pos_out" as Connection114
            [
                breakpoints = 7380, 7852; 7452, 7852
            ]
            connect Junction24 Junction23 as Connection117
            connect "IGBT Leg1.pos_out" Junction24 as Connection118
            connect R1.n_node Junction25 as Connection119
            connect v_h.p_node Junction25 as Connection121
            connect R9.n_node Junction18 as Connection122
            connect Junction18 R10.p_node as Connection123
            connect C2.p_node Junction26 as Connection111
            connect Junction26 Junction18 as Connection112
            connect C1.n_node Junction26 as Connection124
            connect Junction25 Junction27 as Connection125
            connect Junction27 Junction24 as Connection126
            connect R9.p_node Junction28 as Connection128
            connect Junction28 Junction27 as Connection129
            connect C1.p_node Junction28 as Connection130
            connect v_h.n_node Junction29 as Connection131
            connect Junction29 Junction22 as Connection132
            connect R10.n_node Junction30 as Connection134
            connect Junction30 Junction29 as Connection135
            connect C2.n_node Junction30 as Connection136
            connect "Series RLC Branch2.P1_neg" Iag.p_node as Connection137
            connect "Series RLC Branch2.P2_neg" Ibg.p_node as Connection138
            connect "Series RLC Branch2.P3_neg" Icg.p_node as Connection139
            [
                breakpoints = 9140, 8132
            ]
        }
        [
            position = 8692, 8256
            size = 584, 424
        ]
    }

    logically_deleted {
        "albe_current_ctrl.Virtual 3ph3w"
        "albe_current_ctrl.Gain2"
        "albe_current_ctrl.current_ctrl.From136"
        "albe_current_ctrl.current_ctrl.From140"
        "albe_current_ctrl.current_ctrl.From145"
        "albe_current_ctrl.From113"
        "albe_current_ctrl.From114"
        "albe_current_ctrl.Goto62"
        "albe_current_ctrl.Goto63"
        "albe_current_ctrl.Goto64"
        "albe_current_ctrl.Goto65"
        "albe_current_ctrl.Goto66"
        "albe_current_ctrl.Goto67"
        "albe_current_ctrl.From115"
        "albe_current_ctrl.From116"
        "albe_current_ctrl.From117"
        "albe_current_ctrl.From118"
        "albe_current_ctrl.From147"
        "albe_current_ctrl.Junction221"
        "albe_current_ctrl.Connection894"
        "albe_current_ctrl.Connection904"
        "albe_current_ctrl.Connection906"
        "albe_current_ctrl.Connection1083"
        "albe_current_ctrl.Connection7618"
        "albe_current_ctrl.Connection7619"
        "albe_current_ctrl.Connection7620"
        "albe_current_ctrl.Connection7621"
        "albe_current_ctrl.Connection7622"
        "albe_current_ctrl.Connection7623"
        "albe_current_ctrl.Connection7624"
        "albe_current_ctrl.Connection7625"
        "albe_current_ctrl.Connection7626"
        "albe_current_ctrl.Connection7627"
    }

    default {
        "core/Bus Join" {
            inputs = "2"
            execution_rate = "inherit"
        }

        "core/Bus Split" {
            outputs = "2"
            execution_rate = "inherit"
        }

        "core/C function" {
            input_terminals = "real in;"
            input_terminals_show_labels = "False;"
            input_terminals_feedthrough = "True;"
            input_terminals_dimensions = "inherit;"
            output_terminals = "real out;"
            output_terminals_show_labels = "False;"
            output_terminals_feedthrough = "True;"
            output_terminals_dimensions = "inherit;"
            output_fnc = ""
            update_fnc = ""
            init_fnc = ""
            global_variables = ""
            parameters = ""
            library_load_type = "Compile-time load"
            dll_file_path = ""
            dll_file_path_full = ""
            arm_a9_file_path = ""
            arm_a9_file_path_full = ""
            arm_a53_file_path = ""
            arm_a53_file_path_full = ""
            h_file_path = ""
            h_file_path_full = ""
            add_src_path = ""
            add_src_path_full = ""
            convert_to_relative_dll = "True"
            convert_to_relative_a = "True"
            convert_to_relative_src = "True"
            arb_defs = ""
            add_macros = ""
            skip_pre_cmpl_check = "False"
            generate_for_hil = "True"
            execution_rate = "inherit"
            _supported_platforms = "[\'generic\']"
            refresh = "refresh"
        }

        "core/Capacitor" {
            signal_access = "inherit"
            capacitance = "1e-6"
            initial_voltage = "0"
            pole_shift_ignore = "False"
            visible = "True"
        }

        "core/Constant" {
            value = "1"
            signal_type = "real"
            execution_rate = "100e-6"
            _tunable = "False"
        }

        "core/Delay" {
            delay_type = "Fixed delay"
            del_length = "2"
            max_delay_length = "20"
            init_value = "0"
            signal_out_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Discrete Transfer Function" {
            domain = "Z-domain"
            method = "Zero-order hold"
            b_coeff = "[1,1]"
            a_coeff = "[1,1]"
            signal_out_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Gain" {
            gain = "1"
            multiplication = "Element-wise(K.*u)"
            _tunable = "False"
            execution_rate = "inherit"
        }

        "core/Integrator" {
            show_reset = "none"
            reset_type = "asynchronous"
            show_init_condition = "internal"
            init_value = "0"
            limit_output = "False"
            limit_upper = "inf"
            limit_lower = "-inf"
            show_state = "False"
            state_port_type = "inherit"
            execution_rate = "inherit"
        }

        "core/Low-Pass Filter" {
            frequency = "500"
            init_out = "0"
            unit = "Hz"
            execution_rate = "inherit"
            _tunable = "False"
        }

        "core/Product" {
            signs = "2"
            execution_rate = "inherit"
        }

        "core/RMS value" {
            op_mode = "PLL based"
            frequency = "50"
            period_timeout = "0.5"
            period_deadband = "0"
            filter_en = "False"
            lpf_cutoff = "500"
            frequency_src = "Internal"
            execution_rate = "inherit"
        }

        "core/Resistor" {
            resistance = "1"
            param_set = ""
        }

        "core/Sum" {
            signs = "2"
            execution_rate = "inherit"
        }

        "core/Termination" {
            execution_rate = "inherit"
        }

        "core/Voltage Source" {
            sig_input = "False"
            type = "signal generator"
            param_set = "1phase"
            parent_label = ""
            dtsm_switch_name = ""
            addr = "0"
            spc_nb = "0"
            execution_rate = "100e-6"
            cpd_visible = "True"
            enable_snb = "False"
            snb_type = "R2"
            R2 = "0.0"
            L1 = "0.1"
            override_signal_name = "False"
            signal_name = ""
            init_source_nature = "Constant"
            init_const_value = "0.0"
            init_rms_value = "0.0"
            init_frequency = "50.0"
            init_phase = "0.0"
        }

        "TI C2000 Toolbox/ADC (Generic)" {
            hil_ao_nr = "1"
            interface_type = "HIL TI Launchpad Interface"
            controller_index = "1"
            scaling = "1"
            offset = "0"
            execution_rate = "100e-6"
            conv_trigger = "Software Only"
            inten = "False"
        }

        "core/Advanced Low-Pass Filter" {
            type_combo = "Chebyshev1"
            N = "5"
            fc_combo = "Internal"
            fc = "500"
            apb = "fc"
            asb = "40"
            ch_1 = "0"
            ch_2 = "0"
            ch_3 = "0"
            ep = "0"
            es = "0"
            Ke = "0"
            d0e = "0"
            Ne = "0"
            execution_rate = "10e-6"
            bode_plot = "Bode plot"
        }

        "core/Current Measurement" {
            signal_access = "inherit"
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            sig_output_filt_and_full_bw = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }

        "TI C2000 Toolbox/GPIO DO (Generic)" {
            hil_di_nr = "1"
            pin_action = "Set"
            interface_type = "HIL TI Launchpad Interface"
            controller_index = "1"
            execution_rate = "100e-6"
        }

        "core/Half Bridge" {
            signal_access = "inherit"
            model_type = "Global GDS oversampling"
            ctrl_src = "Digital input per switch"
            op_mode = "Fixed carrier frequency"
            carrier_freq = "10000.0"
            phase_op_mode = "Fixed carrier phase offset"
            carr_ph_offset = "0.0"
            d_time = "5e-6"
            ref_sig_min_max = "[-1.0, 1.0]"
            load_mode = "on min"
            execution_rate = "inherit"
            S_top = "1"
            S_top_logic = "active high"
            S_bot = "2"
            S_bot_logic = "active high"
            S_top_I = "False"
            S_bot_I = "False"
            _control_property = "all high"
            switches_names_at_mask = "[]"
            pwm_enabling = "False"
            pwm_enable_di = "13"
            pwm_enable_inv = "active high"
            delay_enabled = "False"
            fixed_delay = "1e-6"
            var_delay_lut = "[-10.0, 1e-6, 10.0, 1e-6]"
            preview_var_delay = "Preview"
            vout_cmp_pullup_mode = "False"
            vout_cmp_timeout = "5e-6"
            show_monitoring = "False"
            fvd = "False"
            losses_estimation = "False"
            fvd_def_method = "Voltage and Resistance"
            Import_igbt_xml = "not selected"
            Import_diode_xml = "not selected"
            Switch_type = "IGBT"
            Vce = "1.3"
            Rce = "0"
            Vd = "1.2"
            Rd = "0"
            i_sw = "[0.0, 6.0, 12.0, 18.0, 24.0]"
            v_sw = "[0.0, 600.0]"
            temp_sw = "[25.0, 50.0, 75.0, 100.0, 125.0]"
            vce_table_out = "[1.3, 1.3, 1.3, 1.3, 1.3]"
            vd_table_out = "[1.2, 1.2, 1.2, 1.2, 1.2]"
            et_on_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*3.8e-3, 0.4*3.8e-3, 0.8*3.8e-3, 0.68*3.8e-3, 0.9*3.8e-3], [0.65*3.8e-3, 0.9*3.8e-3, 1.2*3.8e-3, 1.5*3.8e-3, 1.7*3.8e-3], [0.9*3.8e-3, 1.3*3.8e-3, 1.7*3.8e-3, 1.9*3.8e-3, 2.25*3.8e-3], [1.1*3.8e-3, 1.7*3.8e-3, 2.1*3.8e-3, 2.3*3.8e-3, 2.5*3.8e-3]]"
            et_off_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*2.1e-3, 0.4*2.1e-3, 0.8*2.1e-3, 0.68*2.1e-3, 0.9*2.1e-3], [0.65*2.1e-3, 0.9*2.1e-3, 1.2*2.1e-3, 1.5*2.1e-3, 1.7*2.1e-3], [0.9*2.1e-3, 1.3*2.1e-3, 1.7*2.1e-3, 1.9*2.1e-3, 2.25*2.1e-3], [1.1*2.1e-3, 1.7*2.1e-3, 2.1*2.1e-3, 2.3*2.1e-3, 2.5*2.1e-3]]"
            ed_off_table_out = "[[0.0, 0.0275e-3, 0.15e-3, 0.275e-3, 0.3e-3], [0.35*2.2e-3, 0.4*2.2e-3, 0.8*2.2e-3, 0.68*2.2e-3, 0.9*2.2e-3], [0.65*2.2e-3, 0.9*2.2e-3, 1.2*2.2e-3, 1.5*2.2e-3, 1.7*2.2e-3], [0.9*2.2e-3, 1.3*2.2e-3, 1.7*2.2e-3, 1.9*2.2e-3, 2.25*2.2e-3], [1.1*2.2e-3, 1.7*2.2e-3, 2.1*2.2e-3, 2.3*2.2e-3, 2.5*2.2e-3]]"
            temp_estimation = "False"
            thermal_networks_type = "Foster"
            switch_Rth = "[0.159, 0.133, 0.120, 0.038]"
            switch_Tth = "[1.1e-1, 1.56e-2, 1.35e-3, 1.51e-4]"
            switch_Cth = "[0.0029, 0.0097, 0.1068, 0.8500]"
            diode_Rth = "[0.159, 0.133, 0.120, 0.038]"
            diode_Tth = "[1.1e-1, 1.56e-2, 1.35e-3, 1.51e-4]"
            diode_Cth = "[0.0029, 0.0097, 0.1068, 0.8500]"
            loss_exec_rate = "100e-6"
            visualize_luts = "Visualize Lookup Tables"
            show_cnt_out = "False"
            PESB_Optimization = "True"
            dtv_flag_en = "True"
            reserved_parameter1 = "0"
            predictive_diode_turn_off = "False"
        }

        "TI C2000 Toolbox/SCI Receive (Generic)" {
            vct_size = "1"
            var_names = "var1"
            var1 = ""
            var2 = ""
            var3 = ""
            var4 = ""
            execution_rate = "1e-3"
            timeout = "0.1"
            change_names = "False"
        }

        "TI C2000 Toolbox/SCI Send (Generic)" {
            vct_size = "1"
            var_names = "var1"
            var1 = ""
            var2 = ""
            var3 = ""
            var4 = ""
            sending_prd = "on ping"
            change_names = "False"
        }

        "TI C2000 Toolbox/SCI Setup (Generic)" {
            sci_module = "a"
            lspclkdiv = "1"
            lspclk = "1"
            baudrate = "460800"
            scihbaud = "0"
            scilbaud = "12"
            probe_connection = "True"
            ti_tx_gpio = "42"
            ti_rx_gpio = "43"
            parityena = "False"
            parity = "Odd"
            stopbits = "1"
            scichar = "7"
            sciffena = "1"
            scirst = "1"
            swreset = "1"
            rxena = "1"
            txena = "1"
            rxfiforeset = "1"
            txfiforeset = "1"
            txfifoxreset = "1"
            execution_rate = "1e-3"
        }

        "core/Series RLC Branch" {
            num_phases = "Single-Phase"
            branch_type = "RLC"
            resistance = "10"
            inductance = "10e-3"
            initial_current = "0"
            capacitance = "10e-6"
            initial_voltage = "0"
        }

        "TI C2000 Toolbox/TI C2000 Setup" {
            build_and_deploy = "Build and deploy"
            build_and_deploy_action = "0"
            create_ccs_project = "Create CCS Project"
            create_ccs_project_action = "False"
            export = "Export code"
            export_action = "False"
            build = "Build"
            build_action = "False"
            flash = "Flash target"
            flash_action = "False"
            ex_rate_test = "Perform execution rate test"
            ex_rate_test_action = "False"
            exp_subsys_name = ""
            ccs_project_name = ""
            model_path_en = "True"
            ccs_project_path = "c:\git\t_mdl\010_ti_rcp_lib\ti_rcp_lib_v1"
            target_platform = "LAUNCHXL-F28379D"
            execution_rate = "100e-6"
            ccs_root_path = "C:\User Programs\ti"
            c2000ware_root_path = "C:\ti\C2000Ware_5_02_00_00"
            write_settings = "Write settings"
            scheduling = "CPU Timer Based Scheduler"
        }

        "core/Three Phase Voltage Source" {
            init_rms_value = "0.0"
            init_frequency = "50.0"
            init_phase = "0.0"
        }

        "core/Voltage Measurement" {
            signal_access = "inherit"
            bw_limit = "False"
            frequency = "10e3"
            comparator_enable = "False"
            operator = "greater"
            threshold = "0"
            cmp_abs_value = "False"
            feed_forward = "false"
            sig_output = "False"
            sig_output_filt_and_full_bw = "False"
            execution_rate = "100e-6"
            addr = "0"
            nd_msr_estimation = "false"
            dev_cpl_msr = "false"
            host_device = "0"
            output_to_device = "0"
            dev_cpl_index = "0"
            dev_cpl_var_nb = "0"
            visible = "True"
            override_signal_name = "False"
            signal_name = ""
        }

        "TI C2000 Toolbox/ePWM (Generic)" {
            hil_di_nr = "1"
            hil_di_nr_b = "2"
            interface_type = "HIL TI Launchpad Interface"
            controller_index = "1"
            nr_of_channels = "1"
            freq_op_mode = "Fixed carrier frequency"
            frequency = "10e3"
            phase_op_mode = "Fixed carrier phase offset"
            carr_ph_offset = "0"
            dead_time = "5e-7"
            load_mode = "on min"
            clock_time_ti = "5e-9"
            clock_time_emulator = "5e-9"
            soc_en = "False"
            soc_timing = "Counter equals zero"
            soc_period = "Every event"
            int_en = "False"
            int_timing = "Counter equals zero"
            int_period = "Every event"
        }
    }

    CODE model_init
        # Numpy module is imported as 'np'
        # Scipy module is imported as 'sp'
        # The Schematic API is imported as 'mdl'
        # To get the model file path, use 'mdl.get_model_file_path()'
        # To print information to the console, use info()
        
        omega = 2*np.pi*50
        L_t = 2.5e-3
        C = 1e-6
        L_s = 2.5e-3
        R_d = 27
        R_t = omega*L_t/10
        R_s = omega*L_s/10
        Ts = 50e-6
        AO_offset = 1.5
        I_scale = 90/3 #105 max volta - (-150) min voltage. 3 max voltage DSP
        V_scale = 720/3 #360 max volta - (-360) min voltage. 3 max voltage DSP
        Tslow = 100e-3
        Ts_Control = 50e-6
        
        #PLL control gains
        K_p_pll = 1.8
        K_i_pll = 1.8/0.00251
        
        # PI current controller gains
        tau_c = 1e-3
        L = L_s + L_t
        R = R_s + R_t
        Ln = L
        Rn = R
        Kp_i = 2*L/tau_c
        Ki_i = R/tau_c
        Kr_i = 2*Ki_i
        
        #Ton contactor
        T_on_contactor = 0.1
        
        #rads to hertz
        rad_2_hertz= 1/(2*np.pi)
    ENDCODE
}
